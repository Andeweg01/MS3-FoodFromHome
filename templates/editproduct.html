    {% extends 'base.html' %}
    {% block content %}

<div class="row">

    <h3>Edit Product</h3>
</div>
    <div class="row">
    <form action="{{ url_for('update_product', product_id=product._id) }}" method="POST" class="col s12">
        <div class="row">
        <div class="input-field col s12">
            <select id="category" name="category_name">
            <option value="" disabled selected>Choose Category</option>
            {% for cat in categories %}
                {% if cat.category_name == product.category_name %}
                <option value="{{cat.category_name}}" selected>{{cat.category_name}}</option>
                {% else %}
                <option value="{{cat.category_name}}">{{cat.category_name}}</option>
                {% endif %}
            {% endfor %}
            </select>
            <label>Product Category</label>
        </div>
        </div>
        <div class="row">
        <div class="input-field col s12">
            <input id="product_name" name="product_name" type="text" class="validate" value="{{product.product_name}}">
            <label for="icon_prefix">Product Name</label>
        </div>
        </div>
        <div class="row">
        <div class="input-field col s12">
            <input id="product_brand" name="product_brand" type="text" class="validate" value="{{product.product_brand}}">
            <label for="icon_prefix">Product Brand</label>
        </div>
        </div>
        <div class="row">
        <div class="input-field col s12">
            <textarea
            name="product_description"
            id="product_description"
            class="materialize-textarea">{{product.product_description}}</textarea>
            <label for="icon_telephone">Product Description</label>
        </div>
        </div>
        <div class="row">
        <div class="input-field col s12">
            <input id="product_img" name="product_img" type="text" class="validate" value="{{product.product_img}}">
            <label for="icon_prefix">Product Image URL</label>
        </div>
        </div>
        <div class="row">
        <div class="input-field col s12">
            <input id="product_price" name="product_price" type="text" class="validate" value="{{product.product_price}}">
            <label for="icon_prefix">Product Price</label>
        </div>
        </div>
        <div class="row">
        <div class="input-field col s12">
            <input id="origin_name" name="origin_name" type="text" class="validate" value="{{product.origin_name}}">
            <label for="icon_prefix">Country of Origin</label>
        </div>
        </div>
        <div class="row">
        <div class="switch">
            <label>
            {% if product.supplier_online %}
            <input id="supplier_online" name="supplier_online" type="checkbox" checked>
            {% else %}
            <input id="supplier_online" name="supplier_online" type="checkbox">
            {% endif %}
            <span class="lever"></span>
            Online ordering
            </label>
        </div>
        </div>
        <div class="row">
        <button class="btn waves-effect waves-light" type="submit" name="action">
            Edit Product
            <i class="material-icons right">playlist_add</i>
        </button>
        </div>
    </form>
    </div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript">
    $(document).ready(function(){
        due_date = Date.parse('{{product.due_date}}');
        $('#due_date').pickadate('picker').set('select', due_date, { format: 'dd/mm/yyyy' }).trigger('change');
    });
</script>

{% endblock %}